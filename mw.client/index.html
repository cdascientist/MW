<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Mountain West HUD</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">

    <style>
        /* Base styles */
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden; /* Prevent BODY scrolling */
            font-family: "Open Sans", Arial, sans-serif;
            width: 100vw;
            height: 100vh;
            color: #fff;
            font-size: min(1vw,16px);
            background: white;
            background-blend-mode: hard-light;
            perspective: 500px;
            position: fixed; /* Prevent scrolling by fixing position */
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* Hide scrollbar */
        ::-webkit-scrollbar {
            display: none;
        }

        body {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* Intro overlay styles */
        #intro-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: white;
            z-index: 2000;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: opacity 0.5s ease-out;
            overflow: hidden;
        }

        #logo-container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            width: 100%;
            height: 300px;
            overflow: hidden;
        }

        #mountain, #west {
            font-size: 6rem;
            letter-spacing: 1rem;
            color: #333;
            position: absolute;
            text-transform: uppercase;
            font-weight: 400;
            white-space: nowrap;
            transition: transform 0.2s ease-in-out; /* Made much faster than original 0.8s */
            font-family: 'Open Sans', Arial, sans-serif;
            opacity: 0;
        }

        /* Loading spinner animation */
        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        /* This rule correctly centers the loader */
        .loader {
            border: 5px solid rgba(87, 179, 192, 0.1);
            border-radius: 50%;
            border-top: 5px solid #57b3c0;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            position: absolute;
            top: 50%; /* Center vertically relative to #intro-overlay */
            left: 50%; /* Center horizontally relative to #intro-overlay */
            transform: translate(-50%, -50%); /* Fine-tune to exact center */
            z-index: 2001;
        }

        /* HUD Styles - REVISED WITH LOWER Z-INDEX */
        div {
            display: block;
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            overflow: visible;
        }

            div:after, div:before {
                content: "";
                position: absolute;
                display: block;
                box-sizing: border-box;
            }

        /* Ensuring specific elements that NEED absolute positioning still have it */
        #intro-overlay, #logo-container, #mountain, #west, .loader, .menu-toggle, .sliding-menu, .menu-content-section,
        .target, .hud, .orange, .notches, .notch, .circle, .topnotches, .bottomnotches, .center, .top, .bottom, .blue,
        #root, .center-text, .callout, .ui-overlay, .flat-panel, .flat-panel::before {
            position: absolute;
        }

        .menu-toggle, .sliding-menu, .ui-overlay, #intro-overlay, .target {
            position: fixed;
        }

        .flat-panel, .panel-header, .panel-content, .header-in-panel, .content-container,
        .action-buttons, #google-button-container, .nav-button, .profile-container,
        .content-section, .buttons-row, #dedicated-google-signin-container,
        #google-signin-inner-container, .login-container, .google-button-container,
        .panel-text, p, .menu-content, .menu-items, .menu-item, .status-grid, .status-item,
        .nav-list, .nav-item, h2, .slack-link {
            position: relative;
        }


        .target {
            width: 50%;
            height: 50%;
            z-index: 1;
        }

            .target.top {
                top: 0;
            }

            .target.bottom {
                bottom: 0;
            }

            .target.left {
                left: 0;
            }

            .target.right {
                right: 0;
            }

        /* CRITICAL: Change HUD to negative z-index */
        .hud {
            width: min(80vmin,800px);
            height: min(80vmin,800px);
            transform-origin: center center;
            transform-style: preserve-3d;
            pointer-events: none;
            z-index: -10;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%); /* Start centered */
            animation: hud-center-then-3d 2s 4s ease-in-out forwards; /* Combine centering */
        }

        @keyframes hud-center-then-3d {
            0% {
                transform: translate(-50%, -50%) perspective(500px) rotateX(0) rotateY(0) rotateZ(0) scale(1);
            }

            100% {
                transform: translate(-50%, -50%) perspective(500px) rotateX(10deg) rotateY(-10deg) rotateZ(0) scale(.75);
            }
        }


        .circle {
            border-radius: 50%;
        }

        /* Elements within the HUD */
        .orange {
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            animation: glow-orange 1s 3s ease-in-out forwards;
            z-index: -9;
        }

        .notches {
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            transform: perspective(500px) translate3d(0,0,0);
            animation: notches-rotate 3s 1s ease-in-out,notches-3d 2s 4s ease-in-out,notches-pulse-rotate 10s 6s ease-in-out alternate infinite;
            z-index: -8;
        }

        .notch {
            top: 0;
            left: calc(50% - .25vw);
            width: .5vw;
            height: 50%;
            transform-origin: bottom center;
            animation: notches-grow 3.5s .5s ease-in-out;
            z-index: -8;
        }

            .notch:before {
                width: 100%;
                height: 10%;
                background: #555555;
            }

        .notch1 {
            transform: rotate(45deg);
        }

        .notch2 {
            transform: rotate(75deg);
        }

        .notch3 {
            transform: rotate(105deg);
        }

        .notch4 {
            transform: rotate(135deg);
        }

        .notch5 {
            transform: rotate(165deg);
        }

        .notch6 {
            transform: rotate(195deg);
        }

        .notch7 {
            transform: rotate(225deg);
        }

        .notch8 {
            transform: rotate(255deg);
        }

        .notch9 {
            transform: rotate(285deg);
        }

        .notch10 {
            transform: rotate(315deg);
        }

        .notch11 {
            transform: rotate(345deg);
        }

        .notch12 {
            transform: rotate(375deg);
        }

        .outer {
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: .85vw solid #555555;
            z-index: -7;
        }

        .outer1 {
            top: 7%;
            left: 7%;
            width: 86%;
            height: 86%;
            border: .25vw dotted #555555;
            z-index: -7;
        }

        .outer2 {
            top: 12%;
            left: 12%;
            width: 76%;
            height: 76%;
            border: .45vw solid #555555;
            z-index: -7;
        }

        .outer3 {
            top: 20%;
            left: 20%;
            width: 60%;
            height: 60%;
            border: .25vw dotted #d87930;
            z-index: -7;
        }

        .inner {
            top: 22%;
            left: 22%;
            width: 56%;
            height: 56%;
            border: .25vw solid #555555;
            z-index: -7;
        }

        .inner2 {
            top: 23%;
            left: 23%;
            width: 54%;
            height: 54%;
            border: .25vw solid #d87930;
            background-color: #f5f5f5;
            z-index: -7;
        }

        .inner3 {
            top: 36%;
            left: 36%;
            width: 28%;
            height: 28%;
            border: .25vw dashed #555555;
            transform: perspective(500px) rotateX(0) rotateY(0) rotateZ(0);
            animation: innerorange3-pulse-3d 2s 4s ease-in-out alternate infinite;
            z-index: -7;
        }

        .topnotches, .bottomnotches {
            top: 25%;
            left: 25%;
            width: 50%;
            height: 50%;
            transform: rotate(90deg) perspective(500px) translate3d(0,0,0);
            animation: notchestop-rotate 2s 2s ease-in-out,notchestop-3d 2s 4s ease-in-out forwards;
            z-index: -7;
        }

            .topnotches .notch {
                left: calc(50% - .4vw);
                width: .8vw;
            }

            .bottomnotches .notch {
                left: calc(50% - .2vw);
                width: .4vw;
            }

        .center {
            top: 46%;
            left: 43%;
            width: 14%;
            height: 8%;
            transform: translate3d(0,0,0);
            animation: center-pulse-3d 12s 4s ease-in-out alternate infinite;
            z-index: -7;
        }

        .top, .bottom {
            width: 2vw;
            height: .25vw;
            background: #555555;
        }

            .top:before, .bottom:before {
                height: 1vw;
                width: .25vw;
                background: #555555;
            }

            .top.left {
                top: 0;
                left: 0;
            }

            .top.right {
                top: 0;
                right: 0;
            }

                .top.right:before {
                    right: 0;
                }

            .bottom.left {
                bottom: 0;
                left: 0;
            }

                .bottom.left:before {
                    bottom: 0;
                }

            .bottom.right {
                bottom: 0;
                right: 0;
            }

                .bottom.right:before {
                    bottom: 0;
                    right: 0;
                }

        .blue {
            top: 32%;
            left: 32%;
            width: 36%;
            height: 36%;
            animation: glow-blue 1s 3s ease-in-out forwards;
            z-index: -6;
        }

            .blue .inner1 {
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                border: 1vw solid #57b3c0;
            }

            .blue .inner2 {
                top: 20%;
                left: 20%;
                width: 60%;
                height: 60%;
                border: .25vw solid #57b3c0;
                background-color: #f5f5f5;
                transform: perspective(500px) rotateX(0) rotateY(0) rotateZ(0);
                animation: innerblue2-pulse-3d 2s 4s ease-in-out alternate infinite;
            }

            .blue .notches {
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                animation: notches-rotate 3s 1s ease-in-out;
            }

            .blue .notch:before {
                height: 20%;
                background: #57b3c0;
            }

        /* CRITICAL: React root gets a very high z-index and pointer-events: all */
        #root {
            top: 50%;
            left: 50%;
            transform: translate(-50%,-50%);
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #57b3c0;
            font-size: 1.6em;
            font-weight: bold;
            text-align: center;
            z-index: 1000; /* Base z-index for React content */
            pointer-events: all; /* Allows interaction with React components */
            overflow: hidden; /* Prevent react root itself from scrolling */
            position: absolute; /* Keep absolute positioning */
        }

        .center-text {
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: -5;
            color: #57b3c0;
            font-weight: bold;
            text-align: center;
            font-size: 1.6em;
            pointer-events: none;
        }

        .callout {
            opacity: 0;
            width: 0;
            height: 5vw;
            border-bottom: .25vw solid #57b3c0;
            z-index: -5;
            pointer-events: none;
        }

            .callout.left {
                bottom: 12.5vw;
                left: -10vw;
                animation: calloutleft-grow 3s 3s ease-in-out forwards;
                line-height: 1.5;
            }

            .callout.right {
                top: 7.5vw;
                right: -10vw;
                text-align: right;
                animation: calloutright-grow 3s 4s ease-in-out forwards;
                line-height: 1.5;
            }

            .callout div {
                display: block;
                overflow: visible;
            }

        .title {
            font-size: 2.5em;
        }

        .callout.left div, .callout.right div {
            font-size: 1.4em;
        }

        /* Menu styles - VERY HIGH Z-INDEX */
        .menu-toggle {
            top: 20px;
            right: 20px;
            z-index: 10001;
            width: 30px;
            height: 25px;
            cursor: pointer;
        }

            .menu-toggle span {
                position: absolute;
                width: 100%;
                height: 2px;
                background: #57b3c0;
                transition: all .3s ease;
            }

                .menu-toggle span:nth-child(1) {
                    top: 0;
                }

                .menu-toggle span:nth-child(2) {
                    top: 10px;
                }

                .menu-toggle span:nth-child(3) {
                    top: 20px;
                }

            .menu-toggle.active span:nth-child(1) {
                transform: rotate(45deg) translate(8px,8px);
            }

            .menu-toggle.active span:nth-child(2) {
                opacity: 0;
            }

            .menu-toggle.active span:nth-child(3) {
                transform: rotate(-45deg) translate(7px,-7px);
            }

        /****** MENU CONFIGURATION ******/
        .sliding-menu {
            top: 0;
            right: -80%;
            width: 80%;
            max-width: 400px;
            height: 100vh;
            background: rgba(13,20,24,.9);
            backdrop-filter: blur(8px);
            transition: right .3s ease;
            z-index: 10000;
            border-left: 1px solid rgba(87,179,192,.3);
            overflow-y: auto;
            pointer-events: auto;
            -webkit-overflow-scrolling: touch;
        }

            .sliding-menu.active {
                right: 0;
            }

        .menu-content {
            width: 100%;
            min-height: 100%;
            padding: 80px 20px 40px 20px;
            display: flex;
            flex-direction: column;
            color: #57b3c0;
            box-sizing: border-box;
        }

        .menu-items {
            display: flex;
            flex-direction: column;
            padding: 0 20px;
            margin-bottom: 30px;
        }

        .menu-item {
            padding: 15px 20px;
            margin: 5px 0;
            border: 1px solid rgba(87,179,192,.2);
            cursor: pointer;
            transition: all .3s ease;
            font-size: 1.6em;
            letter-spacing: 2px;
            background: rgba(87,179,192,.1);
            text-align: left;
            border-radius: 4px;
            color: #a7d3d8;
        }

        .menu-content-section {
            display: none;
            padding: 0;
            margin: 120px auto 0 auto;
            width: 80%;
            transform: scale(1.2);
            transform-origin: top center;
        }

            .menu-content-section.active {
                display: block;
            }

        h2 {
            color: #57b3c0;
            margin: 0;
            padding: 20px 20px;
            font-size: 1.8em;
            border-bottom: 1px solid rgba(87,179,192,.2);
        }

        .nav-list {
            list-style: none;
            padding: 15px 20px;
            margin: 0;
        }

        .nav-item {
            padding: 12px 15px;
            margin: 8px 0;
            border-bottom: 1px solid rgba(87,179,192,.1);
            transition: all .3s ease;
            color: #a7d3d8;
            font-size: 1.4em;
        }

        .menu-item:hover {
            background: rgba(87,179,192,.2);
            transform: translateX(5px);
        }

        .menu-item.active {
            background: rgba(87,179,192,.3);
            border-color: rgba(87,179,192,.4);
            box-shadow: 0 0 15px rgba(87,179,192,.2);
            color: #ffffff;
        }

        .nav-item:hover {
            background: rgba(87,179,192,.1);
            padding-left: 20px;
        }

        /* --- Always display Start Job Search link --- */
        .nav-item a[href*="mountainwestjobsearch.com"] {
            display: flex !important; /* Use flex to align icon and text */
        }

        .status-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            padding: 20px;
        }

        .status-item {
            background: rgba(87,179,192,.1);
            border: 1px solid rgba(87,179,192,.2);
            border-radius: 4px;
            padding: 20px;
            transition: all .3s ease;
        }

            .status-item:hover {
                background: rgba(87,179,192,.15);
                transform: translateX(5px);
            }

            .status-item h3 {
                color: #57b3c0;
                margin: 0 0 10px;
                font-size: 1.4em;
            }

            .status-item p {
                margin: 0;
                color: #a7d3d8;
                font-size: 1.3em;
            }

        .slack-link { /* Also applies to the YouTube link */
            display: flex;
            align-items: center;
            text-decoration: none;
            color: #a7d3d8;
            transition: all 0.3s ease;
            width: 100%;
        }

            .slack-link:hover {
                color: #ffffff;
            }

        .slack-icon, .youtube-icon {
            width: 30px;
            height: 30px;
            margin-right: 12px;
            vertical-align: middle;
            flex-shrink: 0;
        }

        .slack-link span {
            flex-grow: 1;
            word-break: break-word;
        }


        /* --- Mobile sign-in area rule removed --- */
        /*
        #mobile-signin-area {
            display: none !important;
        }
        */

        /* UI overlays with panel masking layer */
        .ui-overlay {
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none; /* Overlays don't capture clicks by default */
            z-index: 900; /* Below panels and root content */
            position: fixed; /* Keep overlay fixed */
        }

        /* Panels - more transparent */
        .flat-panel {
            /* Position is now relative within the ui-overlay or root */
            position: absolute; /* Changed from fixed/absolute */
            top: 50%; /* Centering within the container */
            left: 50%;
            transform: translate(-50%, -50%); /* Centering transform */
            width: 75%;
            height: 75%;
            background-color: rgba(13, 20, 24, 0.455); /* 35% more transparent */
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
            padding: 20px;
            color: white;
            pointer-events: auto; /* Panels capture clicks */
            z-index: 901; /* Above ui-overlay, below root */
            isolation: isolate;
            /* --- SCROLLING ADDED/CONFIRMED --- */
            overflow: auto; /* Enable scrolling when content overflows */
            -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
        }

            .flat-panel::before { /* Mask */
                content: "";
                position: absolute; /* Position relative to panel */
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: rgba(13, 20, 24, 0.617); /* Also 35% more transparent */
                border-radius: 12px;
                z-index: -1; /* Behind panel content */
                pointer-events: none;
            }

        /* Panel contents */
        .panel-header, .panel-content, .header-in-panel, .content-container,
        .action-buttons, #google-button-container, .nav-button, .profile-container,
        .content-section, .buttons-row {
            z-index: 902; /* Above panel background/mask */
            background-color: transparent;
            position: relative; /* Ensure stacking context */
        }

        /* Google auth elements */
        #dedicated-google-signin-container, #google-signin-inner-container,
        .login-container, .google-button-container {
            z-index: 950 !important; /* Ensure auth buttons are clickable */
        }

        /* Text inside panel */
        .panel-text, p {
            z-index: 5; /* Relative z-index within content */
            color: #FFF;
        }

        /* --- Animations --- */
        @keyframes glow-orange {
            0% {
                filter: drop-shadow(0 0 0 transparent);
            }

            100% {
                filter: drop-shadow(0 0 .25vw #555555);
            }
        }

        @keyframes glow-blue {
            0% {
                filter: drop-shadow(0 0 0 transparent);
            }

            100% {
                filter: drop-shadow(0 0 .25vw #57b3c0);
            }
        }

        @keyframes notches-grow {
            0% {
                width: 0;
            }

            100% {
                width: .5vw;
            }
        }

        @keyframes notches-rotate {
            0% {
                transform: rotate(0);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        @keyframes notches-pulse-rotate {
            0% {
                transform: rotate(0) perspective(500px) translate3d(0,0,80px);
            }

            25% {
                transform: rotate(30deg) perspective(500px) translate3d(0,0,60px);
            }

            50% {
                transform: rotate(0) perspective(500px) translate3d(0,0,80px);
            }

            100% {
                transform: rotate(60deg) perspective(500px) translate3d(0,0,90px);
            }
        }

        @keyframes notchestop-rotate {
            0% {
                transform: rotate(90deg);
            }

            100% {
                transform: rotate(0);
            }
        }

        @keyframes calloutleft-grow {
            0% {
                left: 11vw;
                width: 0;
                opacity: 0;
            }

            100% {
                left: -10vw;
                width: 21vw;
                opacity: 1;
            }
        }

        @keyframes calloutright-grow {
            0% {
                right: 11vw;
                width: 0;
                opacity: 0;
            }

            100% {
                right: -10vw;
                width: 21vw;
                opacity: 1;
            }
        }

        @keyframes notches-3d {
            0% {
                transform: perspective(500px) translate3d(0,0,0);
            }

            100% {
                transform: perspective(500px) translate3d(0,0,80px);
            }
        }

        @keyframes notchestop-3d {
            0% {
                transform: perspective(500px) translate3d(0,0,0) rotate(0);
            }

            100% {
                transform: perspective(500px) translate3d(0,0,140px) rotate(90deg);
            }
        }

        @keyframes innerorange3-pulse-3d {
            0% {
                transform: perspective(500px) translate3d(0,0,0);
            }

            100% {
                transform: perspective(500px) translate3d(0,0,-60px);
            }
        }

        @keyframes innerblue2-pulse-3d {
            0% {
                transform: perspective(500px) translate3d(0,0,0);
            }

            50% {
                transform: perspective(500px) translate3d(0,0,-50px);
            }

            100% {
                transform: perspective(500px) translate3d(0,0,-200px);
            }
        }

        @keyframes center-pulse-3d {
            0% {
                transform: perspective(500px) translate3d(0,0,0);
            }

            50% {
                transform: perspective(500px) translate3d(0,0,80px);
            }

            100% {
                transform: perspective(500px) translate3d(0,0,40px);
            }
        }

        /* --- Mobile responsiveness --- */
        @media (max-width: 768px) {
            #mountain, #west {
                font-size: 4rem;
                letter-spacing: 0.6rem;
            }

            .center-text {
                font-size: 3em;
                width: 90%;
            }

            .menu-item {
                font-size: 1.5em;
            }

            .nav-item {
                font-size: 1.3em;
            }

            h2 {
                font-size: 1.6em;
            }

            .status-item h3 {
                font-size: 1.3em;
            }

            .status-item p {
                font-size: 1.2em;
            }

            .slack-icon, .youtube-icon {
                width: 22px;
                height: 22px;
                margin-right: 8px;
            }

            .menu-content {
                padding: 70px 15px 30px 15px;
            }

            .sliding-menu {
                width: 85%;
                right: -85%;
            }

            .title {
                font-size: 2em;
            }

            .callout.left div, .callout.right div {
                font-size: 1.2em;
            }

            .hud {
                width: min(90vmin, 400px);
                height: min(90vmin, 400px);
            }

            body, html {
                font-size: min(2.5vw, 14px);
            }

            /* --- SCROLLING: Ensure mobile panel height allows scrolling --- */
            .flat-panel {
                width: 90%;
                /* Limit height to slightly less than viewport to ensure scrollbar appears */
                max-height: calc(100vh - 40px); /* Adjust 40px if needed */
                top: 50%; /* Keep centered for mobile */
                left: 50%;
                transform: translate(-50%, -50%); /* Keep centered */
                margin-bottom: 0; /* Remove bottom margin if centered */
                padding: 15px;
                overflow-y: auto; /* Ensure vertical scroll is enabled */
            }
        }

        @media (max-width: 480px) {
            #mountain, #west {
                font-size: 3rem;
                letter-spacing: 0.5rem;
            }

            .menu-item {
                font-size: 1.4em;
            }

            .nav-item {
                font-size: 1.2em;
            }

            h2 {
                font-size: 1.5em;
            }

            .sliding-menu {
                width: 90%;
                right: -90%;
            }

            .flat-panel {
                width: 95%;
                /* Centering handles left offset */
                /* max-height ensures scrolling, width adjusted */
            }
        }
    </style>
</head>
<body>
    <!-- Intro animation overlay -->
    <div id="intro-overlay">
        <div id="logo-container">
            <div id="mountain">MOUNTAIN</div>
            <div id="west">WEST</div>
            <!-- Loader will be added here by JS -->
        </div>
    </div>

    <!-- Menu toggle button -->
    <div class="menu-toggle">
        <span></span>
        <span></span>
        <span></span>
    </div>

    <!-- Sliding menu (Scrollable due to overflow-y: auto in CSS) -->
    <div class="sliding-menu">
        <div class="menu-content">
            <!-- Menu Tabs -->
            <div class="menu-items">
                <div class="menu-item active" data-target="navigation">NAVIGATION</div> <!-- Default active -->
                <div class="menu-item" data-target="system-status">SYSTEM STATUS</div>
            </div>

            <!-- Navigation Section -->
            <div class="menu-content-section active" id="navigation">
                <!-- Default active -->
                <h2>Navigation Controls</h2>
                <ul class="nav-list">
                    <li class="nav-item">Job Search</li> <!-- Static text -->
                    <li class="nav-item">
                        <a href="https://youtu.be/a6ZCCd5f5OM?si=-Ie8GWffyJSEYpih" target="_blank" class="slack-link">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/8/8b/YouTube_dark_icon_%282017%29.svg" alt="YouTube" class="youtube-icon">
                            <span>Job Search Video</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <!-- Start Job Search Button/Link - Always visible -->
                        <a href="https://mountainwestjobsearch.com:5678/form/0c43de0f-bb48-4973-860a-fee3b1deb280" target="_blank" class="slack-link">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/d/d5/Slack_icon_2019.svg" alt="Slack" class="slack-icon">
                            <span>Start Job Search</span> <!-- This text should be visible -->
                        </a>
                    </li>
                    <!-- Add more items here if needed to test scrolling -->
                </ul>
            </div>

            <!-- System Status Section -->
            <div class="menu-content-section" id="system-status">
                <h2>System Status Overview</h2>
                <div class="status-grid">
                    <div class="status-item">
                        <h3>Engine Status</h3>
                        <p>Operating at 97% efficiency</p>
                    </div>
                    <!-- Add more items here if needed to test scrolling -->
                </div>
            </div>
        </div>
    </div>

    <!-- Target corners -->
    <div class="target top left"></div>
    <div class="target top right"></div>
    <div class="target bottom left"></div>
    <div class="target bottom right"></div>

    <!-- HUD interface -->
    <div class="hud">
        <!-- HUD Orange Layer -->
        <div class="orange">
            <div class="notches"><div class="notch notch1"></div><div class="notch notch2"></div><div class="notch notch3"></div><div class="notch notch4"></div><div class="notch notch5"></div><div class="notch notch6"></div><div class="notch notch7"></div><div class="notch notch8"></div><div class="notch notch9"></div><div class="notch notch10"></div><div class="notch notch11"></div><div class="notch notch12"></div></div>
            <div class="circle outer"></div><div class="circle outer1"></div><div class="circle outer2"></div><div class="circle outer3"></div><div class="circle inner"></div><div class="circle inner2"></div><div class="circle inner3"></div>
            <div class="topnotches"><div class="notch notch1"></div><div class="notch notch2"></div><div class="notch notch3"></div><div class="notch notch4"></div><div class="notch notch5"></div><div class="notch notch6"></div><div class="notch notch7"></div><div class="notch notch8"></div><div class="notch notch9"></div><div class="notch notch10"></div><div class="notch notch11"></div><div class="notch notch12"></div></div>
            <div class="bottomnotches"><div class="notch notch1"></div><div class="notch notch2"></div><div class="notch notch3"></div><div class="notch notch4"></div><div class="notch notch5"></div><div class="notch notch6"></div><div class="notch notch7"></div><div class="notch notch8"></div><div class="notch notch9"></div><div class="notch notch10"></div><div class="notch notch11"></div><div class="notch notch12"></div></div>
            <div class="center"><div class="top left"></div><div class="top right"></div><div class="bottom left"></div><div class="bottom right"></div></div>
        </div>
        <!-- HUD Blue Layer -->
        <div class="blue">
            <div class="circle inner1"></div>
            <div class="notches"><div class="notch notch1"></div><div class="notch notch2"></div><div class="notch notch3"></div><div class="notch notch4"></div><div class="notch notch5"></div><div class="notch notch6"></div><div class="notch notch7"></div><div class="notch notch8"></div><div class="notch notch9"></div><div class="notch notch10"></div><div class="notch notch11"></div><div class="notch notch12"></div></div>
            <div class="circle inner2"></div>
        </div>

        <!-- Center text on top of everything -->
        <div class="center-text">
            <!-- Content can be dynamic -->
        </div>

        <!-- Callouts -->
        <div class="callout left">
            <div class="title" style="color: #57b3c0;">SYSTEM ONLINE</div>
            <div style="color: #57b3c0;">Status: Active</div>
        </div>
        <div class="callout right">
            <div class="title" style="color: #57b3c0;">ALL SYSTEMS NOMINAL</div>
            <div style="color: #57b3c0;">Performance: Optimal</div>
        </div>
    </div>

    <!-- React Root Div - REQUIRED FOR REACT APPLICATION -->
    <div id="root">
        <!-- React app renders here -->
    </div>
    <script type="module" src="/src/main.jsx"></script>

    <!-- Initial JS for Intro Animation & Menu -->
    <script>
        // Initialize preloader and animation
        document.addEventListener('DOMContentLoaded', () => {
            console.log("Preloading starting");
            const mountain = document.getElementById('mountain');
            const west = document.getElementById('west');
            const overlay = document.getElementById('intro-overlay');
            const logoContainer = document.getElementById('logo-container');

            if (!mountain || !west || !overlay || !logoContainer) {
                console.error("Intro animation elements missing.");
                if (overlay) overlay.style.display = 'none';
                return;
            }

            // Position mountain and west higher
            mountain.style.position = 'absolute'; mountain.style.left = '50%'; mountain.style.transform = 'translateX(-50%)'; mountain.style.top = '15%';
            west.style.position = 'absolute'; west.style.left = '50%'; west.style.transform = 'translateX(-50%)'; west.style.top = '40%';

            // Add circular loading animation
            const loadingSpinner = document.createElement('div');
            loadingSpinner.className = 'loader';
            logoContainer.appendChild(loadingSpinner);

            const assetsToPreload = [];

            function startAnimation() {
                console.log("All assets 'loaded', starting animation");
                if (loadingSpinner && loadingSpinner.parentNode) { loadingSpinner.remove(); }

                setTimeout(() => { // Fade in words
                    console.log("Fading in words");
                    mountain.style.transition = 'opacity 0.8s ease-out'; west.style.transition = 'opacity 0.8s ease-out';
                    mountain.style.opacity = '1'; west.style.opacity = '1';
                }, 200);

                setTimeout(() => { // Slide words out
                    console.log("Sliding words");
                    mountain.style.transition = 'opacity 0.8s ease-out, transform 0.2s ease-in-out';
                    west.style.transition = 'opacity 0.8s ease-out, transform 0.2s ease-in-out';
                    const screenWidth = window.innerWidth;
                    mountain.style.transform = `translateX(calc(-50% - ${screenWidth + 500}px))`;
                    west.style.transform = `translateX(calc(-50% + ${screenWidth + 500}px))`;
                }, 1500);

                setTimeout(() => { // Fade out overlay
                    console.log("Fading overlay");
                    overlay.style.opacity = '0'; overlay.style.pointerEvents = 'none';
                }, 2000);

                setTimeout(() => { // Remove overlay
                    console.log("Hiding overlay");
                    overlay.style.display = 'none'; document.body.style.overflow = 'hidden';
                }, 2500);
            }

            function preloadAssets() {
                console.log("Preloading assets (simulation)");
                // Using a dummy observer if FontFaceObserver is not available
                const FontFaceObserver = window.FontFaceObserver || function (family) {
                    this.load = () => new Promise((resolve) => { setTimeout(resolve, 400); }); // Simulate load
                };
                const fontPreloader = new FontFaceObserver('Open Sans');
                assetsToPreload.push(fontPreloader.load());

                Promise.all(assetsToPreload)
                    .then(() => { setTimeout(startAnimation, 500); })
                    .catch(err => { console.error('Failed to preload:', err); setTimeout(startAnimation, 800); });
            }

            setTimeout(preloadAssets, 50);
        });

        // Initialize menu functionality
        document.addEventListener('DOMContentLoaded', () => {
            const menuToggle = document.querySelector('.menu-toggle');
            const slidingMenu = document.querySelector('.sliding-menu');

            if (!menuToggle || !slidingMenu) {
                console.error('Menu toggle or sliding menu element not found.');
                return;
            }

            menuToggle.addEventListener('click', function () {
                this.classList.toggle('active');
                slidingMenu.classList.toggle('active');
                console.log('Menu toggle clicked. Active:', slidingMenu.classList.contains('active'));
            });

            const menuItems = slidingMenu.querySelectorAll('.menu-item');
            const contentSections = slidingMenu.querySelectorAll('.menu-content-section');

            if (menuItems.length === 0 || contentSections.length === 0) {
                console.warn('No menu items or content sections found.');
            }

            menuItems.forEach(item => {
                item.addEventListener('click', function () {
                    const currentActiveItem = slidingMenu.querySelector('.menu-item.active');
                    const currentActiveSection = slidingMenu.querySelector('.menu-content-section.active');
                    if (currentActiveItem) currentActiveItem.classList.remove('active');
                    if (currentActiveSection) currentActiveSection.classList.remove('active');

                    this.classList.add('active');
                    const targetId = this.getAttribute('data-target');
                    const targetSection = document.getElementById(targetId);
                    if (targetSection) {
                        targetSection.classList.add('active');
                    } else {
                        console.error('Target content section not found:', targetId);
                    }
                });
            });

            // Ensure default active item/section
            if (!slidingMenu.querySelector('.menu-item.active') && menuItems.length > 0) {
                console.log("Setting default active menu item.");
                menuItems[0].classList.add('active');
                const firstTargetId = menuItems[0].getAttribute('data-target');
                const firstSection = document.getElementById(firstTargetId);
                if (firstSection && !firstSection.classList.contains('active')) {
                    const currentActiveSection = slidingMenu.querySelector('.menu-content-section.active');
                    if (currentActiveSection) currentActiveSection.classList.remove('active');
                    firstSection.classList.add('active');
                }
            } else if (slidingMenu.querySelector('.menu-item.active')) {
                console.log("Menu item already active, no default set.");
            }

            // Ensure "Start Job Search" link visibility is handled by CSS rule
        });
    </script>
</body>
</html>